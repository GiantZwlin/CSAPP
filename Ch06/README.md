# 第六章 存储器层次结构

## 随机访问存储器

> 随机访问存储器分为2类,静态的和动态的,静态RAM比动态RAM更快,但也贵很多

### 静态RAM

> SRAM将每个位存储在一个双稳态的存储器单元中,每个单元使用6个晶体管电路来实现,由于SRAM的双稳态特性,只要有电,就会永远的保持它的值,即使有干扰,当干扰恢复,电路也会恢复稳定值.

### 动态RAM

> DRAM将每一位存储为对一个电容的充电,每个单元由一个电容和一个访问晶体管组成,DRAM对于干扰非常敏感,当电容器上的电压被扰乱(包括光和电的干扰)之后,就永远不会恢复了.

### 传统DRAM 

> 要点
> * 超单元
> * 内部行缓冲区(二维阵列形式存储)
> * 内存控制器

> 二维阵列存储形式的缺点是必须分两步发送地址,增加了访问时间

### 内存模块

> 多个DRAM芯片封装到一个内存模块中,以内存控制器为传送数据的中介

### 增强的DRAM

> * 快页模式DRAM (FPM DRAM)
> * 扩展数据输出DRAM (EDO DRAM)
> * 同步DRAM (SDRAM)
> * 双倍速率同步DRAM (DDR DRAM)
> * 视频RAM (VRAM)

### 非易失性存储器

> * PROM
> * EPROM
> * EEPROM
> * 闪存 (flash memory)

> 存储在ROM中的程序通常被称作固件(firmware)

### 访问主存

> CPU <-> 总线 <-> I/O桥 <-> 主存

## 磁盘存储

### 相关概念

> * 盘片
> * 表面
> * 磁道
> * 扇区
> * 间隙
> * 磁盘
> * 柱面

### 磁盘容量

> * 记录密度
> * 磁道密度
> * 面密度

### 磁盘操作

> * 寻道时间
> * 旋转时间
> * 传送时间

### 逻辑磁盘块
> 磁盘控制器对磁盘进行封装表现给操作系统 操作系统->逻辑块号 磁盘控制器将逻辑块号翻译成(盘面,磁道,扇区)的三元组

### 连接I/O设备

> I/O总线
> * 通用串行总线(Universal Serial Bus,USB)
> * 图形卡(适配器)
> * 主机总线适配器(将磁盘连接到I/O总线)
>> * SATA (只支持1个驱动器)
>> * SCSI (比SATA更快也更贵,支持多个磁盘驱动器)

### 访问磁盘

> 内存映射I/O

## 固态硬盘

## 局部性

## 存储器层次结构

### 存储器层次结构中的缓存
> * 缓存命中
> * 缓存不命中
> * 缓存不命中的种类
>> * 强制不命中
>> * 冲突不命中
> * 缓存管理

## 高速缓存存储器

### 通用的高速缓存存储器组织结构

> 图例参见原书P426页

> 元组(S,E,B,m)

> t = m-(b+s)

> 地址构成 t位标记,s位组索引,b位块偏移

> * 直接映射高速缓存
> * 组相联高速缓存
> * 全相联高速缓存
